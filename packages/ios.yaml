# Enables Apple iOS Support
ios:
  push:
    categories:
      - name: Alarm
        identifier: 'ALARM'
        actions:
          - identifier: 'DISABLE_ALARM'
            title: 'Disable Alarm'
            activationMode: 'background'
            authenticationRequired: true
            destructive: true
            behavior: 'default'
          - identifier: 'IGNORE_ALARM'
            title: 'Ignore Alarm'
            activationMode: 'background'
            authenticationRequired: false
            destructive: false
            behavior: 'default'
      - name: Camera With Actions
        identifier: 'CAMERA'
        actions:
          - identifier: 'DISABLE_ALARM'
            title: 'Disable Alarm'
            activationMode: 'background'
            authenticationRequired: true
            destructive: true
          - identifier: 'IGNORE_ALARM'
            title: 'Ignore Alarm'
            activationMode: 'background'
            authenticationRequired: false
            destructive: false
script:
  request_location_update_jan:
    alias: Request Location Update Jan
    sequence:
    - data:
        message: request_location_update
      service: notify.ios_jans_phone
  request_location_update_kathrin:
    alias: Request Location Update kathrin
    sequence:
    - data:
        message: request_location_update
      service: notify.ios_kathrins_phone

#automation:
#  alias: Catch iOS action notification
#  trigger:
#  - event_type: ios.action_fired
#    platform: event
#  action:
#  - data_template:
#      message: 'Received action named {{ trigger.event.data.actionName }} from device {{ trigger.event.data.sourceDeviceID }} triggered from {{ trigger.event.data.triggerSource }}'
#    service: notify.ios_iphonexsolbrechtnet_beta

